#!/usr/bin/env node

/**
 * Panther Server Manager bootstrap
 * TODO:
 * - Check config/servers.json to ensure that each entry
 *   has atleast the minumum settings
 * - Check config/server.json to ensure there are no duplicate
 *   aliases for server-ids
 **/

var Hook = require('hook.io').Hook,
    path = require('path'),
    util = require('util');

var Master = function(options) {
    Hook.call(this, options);
};

util.inherits(Master, Hook);

var master = new Master(require(path.join(__dirname, '../config/config.json')).master);
master.start();

/*
//load required modules
var Cli = require('../lib/cli').Cli,
Api = require('../lib/api').Api,
Psm = require('../lib/psm').Psm,
Logger = require('../lib/logger').Logger,
config = require('../config/config.json'),
servers = require('../config/servers.json');

//initialize PSM module and
//the CLI and API modules
var logger = new Logger(),
psm = new Psm(servers, logger),
api = new Api(psm, logger);

psm.on('ready', function() {
    if(config.api.enabled) api.start();

    cli = new Cli(psm, api, logger);

    cli.start();
});
*/